To use these commands, update your SAM template to specify the path to your function's source code in the resource's
Code or CodeUri property.

To build on your workstation, run this command in the directory containing your SAM template. Built artifacts are
written to the .aws-sam/build directory. $ sam build

To build inside a Lambda-like Docker container $ sam build --use-container

To build with environment variables passed to the build container from the command line $ sam build --use-container
--container-env-var Function1.GITHUB_TOKEN=<token1> --container-env-var GLOBAL_ENV_VAR=<global-token>

To build with environment variables passed to the build container from a file $ sam build --use-container
--container-env-var-file <env-file.json>

Build a Node.js 12 application using a container image pulled from DockerHub $ sam build --use-container --build-image
amazon/aws-sam-cli-build-image-nodejs12.x

Build a function resource using using the Python 3.8 container image pulled from DockerHub $ sam build --use-container
--build-image Function1=amazon/aws-sam-cli-build-image-python3.8

To build and run your functions locally $ sam build && sam local invoke

To build and package for deployment $ sam build && sam package --s3-bucket <bucketname>

To build the 'MyFunction' resource $ sam build MyFunction

To build the 'MyFunction' resource of the 'MyNestedStack' nested stack $ sam build MyNestedStack/MyFunction

## Usage ##

sam build [OPTIONS] [RESOURCE_LOGICAL_ID]

### Options ###

|                  Option                   |                               Description                                                                                                                                                                          |
|-------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `-b`, `--build-dir DIRECTORY`             | The path to a directory where the built artifacts are stored. This directory and all of its content are removed with this option                                                                                   |
| `-u`, `--use-container`                   | If your functions depend on packages that have natively compiled dependencies, use this option to build your function inside a Lambda-like Docker container                                                        |
| `-s`, `--base-dir DIRECTORY`              | Resolves relative paths to the function's or layer's source code with respect to this directory                                                                                                                    |
| `-e`, `--container-env-var TEXT`          | Environment variables to pass to the build container. You can specify this option multiple times                                                                                                                   |
| `-ef`, `--container-env-var-file PATH`    | The path and file name of a JSON file that contains values for the container's environment variables                                                                                                               |
| `--build-image TEXT`                      | The URI of the container image that you want to pull for the build. By default, AWS SAM pulls the container image from Amazon ECR Public                                                                           |
| `-m`, `--manifest PATH`                   | The path to a custom dependency manifest file (for example, package.json) to use instead of the default                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `-t`, `--template-file, --template PATH`  | The path and file name of AWS SAM template file [default: template.[yaml\|yml]].                                                                                                                                   |
| `--parameter-overrides`                   | (Optional) A string that contains AWS CloudFormation parameter overrides encoded as key-value pairs. Uses the same format as the AWS Command Line Interface (AWS CLI)                                              |
| `--skip-pull-image`                       | Specifies whether the command should skip pulling down the latest Docker image for the Lambda runtime                                                                                                              |
| `--docker-network TEXT`                   | Specifies the name or ID of an existing Docker network that Lambda Docker containers should connect to, along with the default bridge network                                                                      |
| `--parallel`                              | Enabled parallel builds. Use this option to build your AWS SAM template's functions and layers in parallel. By default, the functions and layers are built in sequence                                             |
| `--cached`                                | Enable cached builds. Use this option to reuse build artifacts that haven't changed from previous builds. AWS SAM evaluates whether you've changed any files in your project directory                             |
| `--cache-dir`                             | The directory where the cache artifacts are stored when --cached is specified. The default cache directory is .aws-sam/cache                                                                                       |
| `--profile TEXT`                          | The specific profile from your credential file that gets AWS credentials.                                                                                                                                          |
| `--region  TEXT`                          | The AWS Region to deploy to. For example, us-east-1.                                                                                                                                                               |
| `--config-file PATH`                      | The path and file name of the configuration file containing default parameter values to use. The default value is "samconfig.toml" in the root of the project directory                                            |
| `--config-env TEXT`                       | The environment name specifying the default parameter values in the configuration file to use. The default value is "default". For more information about configuration files, see AWS SAM CLI configuration file  |
| `--debug`                                 | Turns on debug logging to print debug messages that the AWS SAM CLI generates, and to display timestamps.                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `--help`                                  | Shows this message and exits.                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

## Environment Variables ##

1. Update `.gitignore` to ***Ignore*** `.env.json`.
2. Store any Secret(s) up into *AWS Secure Store Management*.
3. Create the `.env.json`.
```json
{
    "LambdaFunction1": {
        "GITHUB_TOKEN": "..."
    },
    "LambdaFunction2": {
        "GITHUB_TOKEN": "..."
    }
}
```
4. Run the Build: `sam build --use-container --container-env-var-file .env.json`
